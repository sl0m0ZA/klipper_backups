[gcode_macro TEST_MOTION]
gcode:
    {% set speed = 18000|int %}
    #G28
    G90
    ##
    G1 Z20
    #
    G1 X280 Y280 F{speed}
    G1 X280 Y10 F{speed}
    G1 X10 Y10 F{speed}
    G1 X10 Y280 F{speed}
    G1 X280 Y280 F{speed}
    G1 X280 Y10 F10000
    #
    G1 X150 Y150 F10000
    G1 X250 Y50 F{(speed*1.5)}
    G1 X50 Y250 F{(speed*1.5)}
    G1 X150 Y150 F{(speed*1.5)}
    G1 X250 Y250 F{(speed*1.5)}
    G1 X50 Y50 F{(speed*1.5)}
    G1 X150 Y150 F10000
    #
    G1 X100 Y100 F{(speed*2)}
    G1 X200 Y100 F{(speed*2)}
    G1 X200 Y200 F{(speed*2)}
    G1 X100 Y200 F{(speed*2)}
    G1 X100 Y100 F{(speed*2)}
    G1 X150 Y150 F10000
    #
    G1 X130 Y130 F{(speed*3)}
    G1 X170 Y130 F{(speed*3)}
    G1 X170 Y170 F{(speed*3)}
    G1 X130 Y170 F{(speed*3)}
    G1 X130 Y130 F{(speed*3)}
    G1 X150 Y150 F10000
    #
    G1 X290 Y290 F10000